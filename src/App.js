import React, { PureComponent } from 'react';
import styled from 'styled-components';
import './App.css';

import ThreeView from './ThreeView';

const EditView = styled.textarea.attrs({
  autoComplete: false,
  spellCheck: false
})`
  font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
  resize: none;
  border: none;
`;

const AppContainer = styled.div`
  display: flex;
  position: absolute;
  width: 100%;
  min-height: 100%;
  min-height: 100vh;

  > * {
    flex: 1 0 50%;
  }
`;

const objData = `# OBJ File created by PS2IconSys Viewer
#  http://www.ghulbus-inc.de/
#
# object SYS-CONF/sysconf.icn to come
#
v  1.336426 -0.004150 -0.231934
v  -1.336426 -0.004150 0.231934
v  1.336426 -0.004150 0.231934
v  -1.336426 -0.004150 0.231934
v  1.336426 -0.004150 -0.231934
v  -1.336426 -0.004150 -0.231934
v  1.336426 -3.995605 -0.231934
v  1.336426 -0.004150 0.231934
v  1.336426 -3.995605 0.231934
v  1.336426 -0.004150 0.231934
v  1.336426 -3.995605 -0.231934
v  1.336426 -0.004150 -0.231934
v  -1.336426 -3.995605 -0.231934
v  1.336426 -0.004150 -0.231934
v  1.336426 -3.995605 -0.231934
v  1.336426 -0.004150 -0.231934
v  -1.336426 -3.995605 -0.231934
v  -1.336426 -0.004150 -0.231934
v  -1.336426 -3.995605 0.231934
v  -1.336426 -0.004150 -0.231934
v  -1.336426 -3.995605 -0.231934
v  -1.336426 -0.004150 -0.231934
v  -1.336426 -3.995605 0.231934
v  -1.336426 -0.004150 0.231934
v  1.336426 -3.995605 0.231934
v  -1.336426 -0.004150 0.231934
v  -1.336426 -3.995605 0.231934
v  -1.336426 -0.004150 0.231934
v  1.336426 -3.995605 0.231934
v  1.336426 -0.004150 0.231934
v  -1.336426 -3.995605 0.231934
v  1.336426 -3.995605 -0.231934
v  1.336426 -3.995605 0.231934
v  1.336426 -3.995605 -0.231934
v  -1.336426 -3.995605 0.231934
v  -1.336426 -3.995605 -0.231934
# 36 vertices

vt  0.141602 0.133789 0.000000
vt  0.141602 0.133789 0.000000
vt  0.141602 0.133789 0.000000
vt  0.141602 0.133789 0.000000
vt  0.141602 0.133789 0.000000
vt  0.141602 0.133789 0.000000
vt  0.141602 0.133789 0.000000
vt  0.141602 0.133789 0.000000
vt  0.141602 0.133789 0.000000
vt  0.141602 0.133789 0.000000
vt  0.141602 0.133789 0.000000
vt  0.141602 0.133789 0.000000
vt  0.228271 0.070801 0.000000
vt  0.771484 0.928955 0.000000
vt  0.771484 0.070801 0.000000
vt  0.771484 0.928955 0.000000
vt  0.228271 0.070801 0.000000
vt  0.228271 0.928955 0.000000
vt  0.141602 0.133789 0.000000
vt  0.141602 0.133789 0.000000
vt  0.141602 0.133789 0.000000
vt  0.141602 0.133789 0.000000
vt  0.141602 0.133789 0.000000
vt  0.141602 0.133789 0.000000
vt  0.141602 0.133789 0.000000
vt  0.141602 0.133789 0.000000
vt  0.141602 0.133789 0.000000
vt  0.141602 0.133789 0.000000
vt  0.141602 0.133789 0.000000
vt  0.141602 0.133789 0.000000
vt  0.141602 0.133789 0.000000
vt  0.141602 0.133789 0.000000
vt  0.141602 0.133789 0.000000
vt  0.141602 0.133789 0.000000
vt  0.141602 0.133789 0.000000
vt  0.141602 0.133789 0.000000
# 36 texture vertices

vn  0.000000 0.000000 -1.000000
vn  0.000000 0.000000 -1.000000
vn  0.000000 0.000000 -1.000000
vn  0.000000 0.000000 -1.000000
vn  0.000000 0.000000 -1.000000
vn  0.000000 0.000000 -1.000000
vn  1.000000 0.000000 0.000000
vn  1.000000 0.000000 0.000000
vn  1.000000 0.000000 0.000000
vn  1.000000 0.000000 0.000000
vn  1.000000 0.000000 0.000000
vn  1.000000 0.000000 0.000000
vn  0.000000 -1.000000 0.000000
vn  0.000000 -1.000000 0.000000
vn  0.000000 -1.000000 0.000000
vn  0.000000 -1.000000 0.000000
vn  0.000000 -1.000000 0.000000
vn  0.000000 -1.000000 0.000000
vn  -1.000000 0.000000 0.000000
vn  -1.000000 0.000000 0.000000
vn  -1.000000 0.000000 0.000000
vn  -1.000000 0.000000 0.000000
vn  -1.000000 0.000000 0.000000
vn  -1.000000 0.000000 0.000000
vn  0.000000 1.000000 0.000000
vn  0.000000 1.000000 0.000000
vn  0.000000 1.000000 0.000000
vn  0.000000 1.000000 0.000000
vn  0.000000 1.000000 0.000000
vn  0.000000 1.000000 0.000000
vn  0.000000 0.000000 1.000000
vn  0.000000 0.000000 1.000000
vn  0.000000 0.000000 1.000000
vn  0.000000 0.000000 1.000000
vn  0.000000 0.000000 1.000000
vn  0.000000 0.000000 1.000000
# 36 vertex normals

g SYS-CONF/sysconf.icn
s 1
f 1/1/1 2/2/2 3/3/3
f 4/4/4 5/5/5 6/6/6
f 7/7/7 8/8/8 9/9/9
f 10/10/10 11/11/11 12/12/12
f 13/13/13 14/14/14 15/15/15
f 16/16/16 17/17/17 18/18/18
f 19/19/19 20/20/20 21/21/21
f 22/22/22 23/23/23 24/24/24
f 25/25/25 26/26/26 27/27/27
f 28/28/28 29/29/29 30/30/30
f 31/31/31 32/32/32 33/33/33
f 34/34/34 35/35/35 36/36/36
# 12 faces

g
`;

export default class App extends PureComponent {
  state = {
    objData,
    error: null
  };

  render() {
    return (
      <AppContainer>
        <EditView
          value={this.state.objData}
          onChange={this.handleUpdate}
        />
        <ThreeView
          objData={this.state.objData}
        />
      </AppContainer>
    );
  }

  handleUpdate = (evt) => {
    this.setState({ objData: evt.target.value });
  }
}
